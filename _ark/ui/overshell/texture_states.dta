(kState_RB3TextureMenu
   (view options_audio)
   (enter
   {options_extras.lst set_selected $rb3texval}
   {options_audio.lst set_data 
   (
      os_fretboard
      os_spotlight
      os_emissive
      os_gems
      os_animation
      os_smashers
      os_animatedsmashers
      os_flames
      os_sus
      os_score
      os_crowdmeter
      os_rails
      os_odbar
      os_multiring
      os_keyboard
      os_voxhw
      os_voxarrow
   )}
   {options_audio.lst set scroll_time 0})
   (SELECT_MSG
   {set $rb3texval {$component selected_sym}}
  {switch
   {$component selected_sym}
   (os_fretboard
     {$this show_state kState_RB3EInstHW})
   (os_spotlight
     {$this show_state kState_RB3EInstStrk})
   (os_emissive
     {$this show_state kState_RB3EInstOD})
   (os_gems
     {$this show_state kState_RB3EGemSelector})
   (os_smashers
     {$this show_state kState_RB3ESmasherSelector})
   (os_flames
     {$this show_state kState_RB3EFlamesSelector})
   (os_sus 
     {$this show_state kState_RB3ESustainSel})
   (os_score
     {$this show_state kState_RB3EScoreSelector})
   (os_rails
     {$this show_state kState_RB3ERailsSelector})
   (os_odbar
     {$this show_state kState_RB3EODbarSelector})
   (os_multiring
     {$this show_state kState_RB3EMultiRingSelector})
   (os_crowdmeter
     {$this show_state kState_RB3ECrowdMeterSelector})
   (os_keyboard
     {$this show_state kState_RB3EKeyboardSelector})
   (os_voxhw
     {$this show_state kState_RB3EVoxHWSelector})
   (os_voxarrow
     {$this show_state kState_RB3EVoxArrowSelector})
   (os_animation
      {if_else $animatedgems
      {$this show_state kState_RB3EAnimatedGemSelector}
      {$this show_state kState_RB3EAnimatedGemWarn}})
   (os_animatedsmashers
      {if_else $animatedsmashers
      {$this show_state kState_RB3EAnimatedSmasherSelector}
      {$this show_state kState_RB3EAnimatedSmasherWarn}})
   })
   (on_cancel
      {options.lst set_selected 4}
      {$this show_state kState_RB3EThemeMenu})
   (exit {options.lst set_selected 4} {options_audio.lst set scroll_time 0.25}))

(kState_RB3EInstHW
   (view options)
   (enter
   {options.lst set_selected $rb3einsthwval}
   {options.lst set_data 
   (
      os_allhw
      os_guitarhw
      os_basshw
      os_drumshw
      os_keyshw
   )})
   (SELECT_MSG
   {set $rb3einsthwval {$component selected_sym}}
  {switch
   {$component selected_sym}
   (os_allhw
      {$this show_state kState_RB3EFretboardSelectorAll})
   (os_guitarhw
      {$this show_state kState_RB3EFretboardSelectorGtr})
   (os_basshw
      {$this show_state kState_RB3EFretboardSelectorBass})
   (os_drumshw
     {$this show_state kState_RB3EFretboardSelectorDrum})
   (os_keyshw
     {$this show_state kState_RB3EFretboardSelectorKeys})
   })
   (on_cancel
      {$this show_state kState_RB3TextureMenu}))

(kState_RB3EFretboardSelectorAll
 (view online_options)
 (enter
    {online_options.lst set scroll_time 0}
    {online_options.lst set circular 1}
    {online_options.lst set_selected $highway}
    {online_options.grp add_object choose_character.mesh}
    {choose_character.mesh set_local_pos_index 2 175}
    {choose_character.mesh set_local_scale_index 0 0.2}
    {choose_character.mesh set_local_scale_index 2 0.4}
    {choose_character.mat set diffuse_tex choose_character.tex}
    {choose_character.tex set_bitmap {sprint "ui/track/highways/" $highway ".png"}} ;hide the texture on first entry because the script is bad whatever
    {online_options.lst set_data (#include ../track/highways/highways.dta)}
 )
   (SCROLL_MSG
      {set $highwaymenu {$component selected_sym}}
      {choose_character.tex set_bitmap {sprint "ui/track/highways/" $highwaymenu ".png"}}
      {$this update})
   (SELECT_MSG
        {set $highwaycustomtexture TRUE}
        {set $highwaygtrcustomtexture FALSE}
        {set $highwaybasscustomtexture FALSE}
        {set $highwaydrumcustomtexture FALSE}
        {set $highwaykeyscustomtexture FALSE}
        {set $highway {$component selected_sym}}
        {set $highwaygtr none}
        {set $highwaybass none}
        {set $highwaydrum none}
        {set $highwaykeys none}
        {choose_character.tex set_bitmap {sprint "ui/track/highways/" $highway ".png"}})
 (on_cancel
  {online_options.lst set scroll_time 0.25}
  {$this show_state kState_RB3EInstHW}
  {choose_character.mesh set_local_scale_index 0 0.5}
  {choose_character.mesh set_local_scale_index 2 1}
  {choose_character.mesh set_local_pos_index 2 300}
  {online_options.grp remove_object choose_character.mesh}))
  
(kState_RB3EFretboardSelectorGtr
 (view online_options)
 (enter
    {online_options.lst set scroll_time 0}
    {online_options.lst set circular 1}
    {online_options.lst set_selected $highwaygtr}
    {online_options.grp add_object choose_character.mesh}
    {choose_character.mesh set_local_pos_index 2 175}
    {choose_character.mesh set_local_scale_index 0 0.2}
    {choose_character.mesh set_local_scale_index 2 0.4}
    {choose_character.mat set diffuse_tex choose_character.tex}
    {choose_character.tex set_bitmap {sprint "ui/track/highways/" $highwaygtr ".png"}} ;hide the texture on first entry because the script is bad whatever
    {online_options.lst set_data (#include ../track/highways/highways.dta)}
 )
   (SCROLL_MSG
      {set $highwaygtrmenu {$component selected_sym}}
      {choose_character.tex set_bitmap {sprint "ui/track/highways/" $highwaygtrmenu ".png"}}
      {$this update})
   (SELECT_MSG
        {set $highwaygtrcustomtexture TRUE}
        {set $highwaygtr {$component selected_sym}}
        {choose_character.tex set_bitmap {sprint "ui/track/highways/" $highwaygtr ".png"}})
 (on_cancel
  {online_options.lst set scroll_time 0.25}
  {$this show_state kState_RB3EInstHW}
  {choose_character.mesh set_local_scale_index 0 0.5}
  {choose_character.mesh set_local_scale_index 2 1}
  {choose_character.mesh set_local_pos_index 2 300}
  {online_options.grp remove_object choose_character.mesh}))
  
(kState_RB3EFretboardSelectorBass
 (view online_options)
 (enter
    {online_options.lst set scroll_time 0}
    {online_options.lst set circular 1}
    {online_options.lst set_selected $highwaybass}
    {online_options.grp add_object choose_character.mesh}
    {choose_character.mesh set_local_pos_index 2 175}
    {choose_character.mesh set_local_scale_index 0 0.2}
    {choose_character.mesh set_local_scale_index 2 0.4}
    {choose_character.mat set diffuse_tex choose_character.tex}
    {choose_character.tex set_bitmap {sprint "ui/track/highways/" $highwaybass ".png"}} ;hide the texture on first entry because the script is bad whatever
    {online_options.lst set_data (#include ../track/highways/highways.dta)}
 )
   (SCROLL_MSG
      {set $highwaybassmenu {$component selected_sym}}
      {choose_character.tex set_bitmap {sprint "ui/track/highways/" $highwaybassmenu ".png"}}
      {$this update})
   (SELECT_MSG
        {set $highwaybasscustomtexture TRUE}
        {set $highwaybass {$component selected_sym}}
        {choose_character.tex set_bitmap {sprint "ui/track/highways/" $highwaybass ".png"}})
 (on_cancel
  {online_options.lst set scroll_time 0.25}
  {$this show_state kState_RB3EInstHW}
  {choose_character.mesh set_local_scale_index 0 0.5}
  {choose_character.mesh set_local_scale_index 2 1}
  {choose_character.mesh set_local_pos_index 2 300}
  {online_options.grp remove_object choose_character.mesh}))

(kState_RB3EFretboardSelectorDrum
 (view online_options)
 (enter
    {online_options.lst set scroll_time 0}
    {online_options.lst set circular 1}
    {online_options.lst set_selected $highwaydrum}
    {online_options.grp add_object choose_character.mesh}
    {choose_character.mesh set_local_pos_index 2 175}
    {choose_character.mesh set_local_scale_index 0 0.2}
    {choose_character.mesh set_local_scale_index 2 0.4}
    {choose_character.mat set diffuse_tex choose_character.tex}
    {choose_character.tex set_bitmap {sprint "ui/track/highways/" $highwaydrum ".png"}} ;hide the texture on first entry because the script is bad whatever
    {online_options.lst set_data (#include ../track/highways/highways.dta)}
 )
   (SCROLL_MSG
      {set $highwaydrummenu {$component selected_sym}}
      {choose_character.tex set_bitmap {sprint "ui/track/highways/" $highwaydrummenu ".png"}}
      {$this update})
   (SELECT_MSG
        {set $highwaydrumcustomtexture TRUE}
        {set $highwaydrum {$component selected_sym}}
        {choose_character.tex set_bitmap {sprint "ui/track/highways/" $highwaydrum ".png"}})
 (on_cancel
  {online_options.lst set scroll_time 0.25}
  {$this show_state kState_RB3EInstHW}
  {choose_character.mesh set_local_scale_index 0 0.5}
  {choose_character.mesh set_local_scale_index 2 1}
  {choose_character.mesh set_local_pos_index 2 300}
  {online_options.grp remove_object choose_character.mesh}))

(kState_RB3EFretboardSelectorKeys
 (view online_options)
 (enter
    {online_options.lst set scroll_time 0}
    {online_options.lst set circular 1}
    {online_options.lst set_selected $highwaykeys}
    {online_options.grp add_object choose_character.mesh}
    {choose_character.mesh set_local_pos_index 2 175}
    {choose_character.mesh set_local_scale_index 0 0.2}
    {choose_character.mesh set_local_scale_index 2 0.4}
    {choose_character.mat set diffuse_tex choose_character.tex}
    {choose_character.tex set_bitmap {sprint "ui/track/highways/" $highwaykeys ".png"}} ;hide the texture on first entry because the script is bad whatever
    {online_options.lst set_data (#include ../track/highways/highways.dta)}
 )
   (SCROLL_MSG
      {set $highwaykeysmenu {$component selected_sym}}
      {choose_character.tex set_bitmap {sprint "ui/track/highways/" $highwaykeysmenu ".png"}}
      {$this update})
   (SELECT_MSG
        {set $highwaykeyscustomtexture TRUE}
        {set $highwaykeys {$component selected_sym}}
        {choose_character.tex set_bitmap {sprint "ui/track/highways/" $highwaykeys ".png"}})
 (on_cancel
  {online_options.lst set scroll_time 0.25}
  {$this show_state kState_RB3EInstHW}
  {choose_character.mesh set_local_scale_index 0 0.5}
  {choose_character.mesh set_local_scale_index 2 1}
  {choose_character.mesh set_local_pos_index 2 300}
  {online_options.grp remove_object choose_character.mesh}))

(kState_RB3EInstStrk
   (view options)
   (enter
   {options.lst set_selected $rb3einststrkval}
   {options.lst set_data 
   (
      os_allstrk
      os_guitarstrk
      os_bassstrk
      os_drumsstrk
      os_keysstrk
   )})
   (SELECT_MSG
   {set $rb3einststrkval {$component selected_sym}}
  {switch
   {$component selected_sym}
   (os_allstrk
      {$this show_state kState_RB3ESpotlightSelectorAll})
   (os_guitarstrk
      {$this show_state kState_RB3ESpotlightSelectorGtr})
   (os_bassstrk
      {$this show_state kState_RB3ESpotlightSelectorBass})
   (os_drumsstrk
     {$this show_state kState_RB3ESpotlightSelectorDrum})
   (os_keysstrk
     {$this show_state kState_RB3ESpotlightSelectorKeys})
   })
   (on_cancel
      {$this show_state kState_RB3TextureMenu}))

(kState_RB3ESpotlightSelectorAll
 (view online_options)
 (enter
    {online_options.lst set scroll_time 0}
    {online_options.lst set circular 1}
    {online_options.lst set_selected $spotlight}
    {online_options.grp add_object choose_character.mesh}
    {choose_character.mesh set_local_pos_index 2 175}
    {choose_character.mesh set_local_scale_index 0 0.2}
    {choose_character.mesh set_local_scale_index 2 0.4}
    {choose_character.mat set diffuse_tex choose_character.tex}
    {choose_character.tex set_bitmap {sprint "ui/track/spotlights/" $spotlight ".png"}} ;hide the texture on first entry because the script is bad whatever
    ;{choose_character.tex iterate_refs $ref {$ref set color {pack_color $spotlight_r $spotlight_g $spotlight_b}}}
    ;{choose_character.tex iterate_refs $ref {$ref set intensify TRUE}}
    {online_options.lst set_data (#include ../track/spotlights/spotlights.dta)}
 )
   (SCROLL_MSG
      {set $spotlightmenu {$component selected_sym}}
      {choose_character.tex set_bitmap {sprint "ui/track/spotlights/" $spotlightmenu ".png"}}
      {$this update})
   (SELECT_MSG
        {set $spotlightcustomtexture TRUE}
        {set $spotlightgtrcustomtexture FALSE}
        {set $spotlightbasscustomtexture FALSE}
        {set $spotlightdrumcustomtexture FALSE}
        {set $spotlightkeyscustomtexture FALSE}
        {set $spotlight {$component selected_sym}}
        {set $spotlightgtr none}
        {set $spotlightbass none}
        {set $spotlightdrum none}
        {set $spotlightkeys none}
        {choose_character.tex set_bitmap {sprint "ui/track/spotlights/" $spotlight ".png"}})
 (on_cancel
  {online_options.lst set scroll_time 0.25}
  {$this show_state kState_RB3EInstStrk}
  {choose_character.mesh set_local_scale_index 0 0.5}
  {choose_character.mesh set_local_scale_index 2 1}
  {choose_character.mesh set_local_pos_index 2 300}
  {online_options.grp remove_object choose_character.mesh}))

(kState_RB3ESpotlightSelectorGtr
 (view online_options)
 (enter
    {online_options.lst set scroll_time 0}
    {online_options.lst set circular 1}
    {online_options.lst set_selected $spotlightgtr}
    {online_options.grp add_object choose_character.mesh}
    {choose_character.mesh set_local_pos_index 2 175}
    {choose_character.mesh set_local_scale_index 0 0.2}
    {choose_character.mesh set_local_scale_index 2 0.4}
    {choose_character.mat set diffuse_tex choose_character.tex}
    {choose_character.tex set_bitmap {sprint "ui/track/spotlights/" $spotlightgtr ".png"}} ;hide the texture on first entry because the script is bad whatever
    ;{choose_character.tex iterate_refs $ref {$ref set color {pack_color $spotlight_r $spotlight_g $spotlight_b}}}
    ;{choose_character.tex iterate_refs $ref {$ref set intensify TRUE}}
    {online_options.lst set_data (#include ../track/spotlights/spotlights.dta)}
 )
   (SCROLL_MSG
      {set $spotlightgtrmenu {$component selected_sym}}
      {choose_character.tex set_bitmap {sprint "ui/track/spotlights/" $spotlightgtrmenu ".png"}}
      {$this update})
   (SELECT_MSG
        {set $spotlightgtrcustomtexture TRUE}
        {set $spotlightgtr {$component selected_sym}}
        {set $spotlight none}
        {choose_character.tex set_bitmap {sprint "ui/track/spotlights/" $spotlightgtr ".png"}})
 (on_cancel
  {online_options.lst set scroll_time 0.25}
  {$this show_state kState_RB3EInstStrk}
  {choose_character.mesh set_local_scale_index 0 0.5}
  {choose_character.mesh set_local_scale_index 2 1}
  {choose_character.mesh set_local_pos_index 2 300}
  {online_options.grp remove_object choose_character.mesh}))

(kState_RB3ESpotlightSelectorBass
 (view online_options)
 (enter
    {online_options.lst set scroll_time 0}
    {online_options.lst set circular 1}
    {online_options.lst set_selected $spotlightbass}
    {online_options.grp add_object choose_character.mesh}
    {choose_character.mesh set_local_pos_index 2 175}
    {choose_character.mesh set_local_scale_index 0 0.2}
    {choose_character.mesh set_local_scale_index 2 0.4}
    {choose_character.mat set diffuse_tex choose_character.tex}
    {choose_character.tex set_bitmap {sprint "ui/track/spotlights/" $spotlightbass ".png"}} ;hide the texture on first entry because the script is bad whatever
    ;{choose_character.tex iterate_refs $ref {$ref set color {pack_color $spotlight_r $spotlight_g $spotlight_b}}}
    ;{choose_character.tex iterate_refs $ref {$ref set intensify TRUE}}
    {online_options.lst set_data (#include ../track/spotlights/spotlights.dta)}
 )
   (SCROLL_MSG
      {set $spotlightbassmenu {$component selected_sym}}
      {choose_character.tex set_bitmap {sprint "ui/track/spotlights/" $spotlightbassmenu ".png"}}
      {$this update})
   (SELECT_MSG
        {set $spotlightbasscustomtexture TRUE}
        {set $spotlightbass {$component selected_sym}}
        {choose_character.tex set_bitmap {sprint "ui/track/spotlights/" $spotlightbass ".png"}})
 (on_cancel
  {online_options.lst set scroll_time 0.25}
  {$this show_state kState_RB3EInstStrk}
  {choose_character.mesh set_local_scale_index 0 0.5}
  {choose_character.mesh set_local_scale_index 2 1}
  {choose_character.mesh set_local_pos_index 2 300}
  {online_options.grp remove_object choose_character.mesh}))

(kState_RB3ESpotlightSelectorDrum
 (view online_options)
 (enter
    {online_options.lst set scroll_time 0}
    {online_options.lst set circular 1}
    {online_options.lst set_selected $spotlightdrum}
    {online_options.grp add_object choose_character.mesh}
    {choose_character.mesh set_local_pos_index 2 175}
    {choose_character.mesh set_local_scale_index 0 0.2}
    {choose_character.mesh set_local_scale_index 2 0.4}
    {choose_character.mat set diffuse_tex choose_character.tex}
    {choose_character.tex set_bitmap {sprint "ui/track/spotlights/" $spotlightdrum ".png"}} ;hide the texture on first entry because the script is bad whatever
    ;{choose_character.tex iterate_refs $ref {$ref set color {pack_color $spotlight_r $spotlight_g $spotlight_b}}}
    ;{choose_character.tex iterate_refs $ref {$ref set intensify TRUE}}
    {online_options.lst set_data (#include ../track/spotlights/spotlights.dta)}
 )
   (SCROLL_MSG
      {set $spotlightdrummenu {$component selected_sym}}
      {choose_character.tex set_bitmap {sprint "ui/track/spotlights/" $spotlightdrummenu ".png"}}
      {$this update})
   (SELECT_MSG
        {set $spotlightdrumcustomtexture TRUE}
        {set $spotlightdrum {$component selected_sym}}
        {set $spotlight none}
        {choose_character.tex set_bitmap {sprint "ui/track/spotlights/" $spotlightdrum ".png"}})
 (on_cancel
  {online_options.lst set scroll_time 0.25}
  {$this show_state kState_RB3EInstStrk}
  {choose_character.mesh set_local_scale_index 0 0.5}
  {choose_character.mesh set_local_scale_index 2 1}
  {choose_character.mesh set_local_pos_index 2 300}
  {online_options.grp remove_object choose_character.mesh}))

(kState_RB3ESpotlightSelectorKeys
 (view online_options)
 (enter
    {online_options.lst set scroll_time 0}
    {online_options.lst set circular 1}
    {online_options.lst set_selected $spotlightkeys}
    {online_options.grp add_object choose_character.mesh}
    {choose_character.mesh set_local_pos_index 2 175}
    {choose_character.mesh set_local_scale_index 0 0.2}
    {choose_character.mesh set_local_scale_index 2 0.4}
    {choose_character.mat set diffuse_tex choose_character.tex}
    {choose_character.tex set_bitmap {sprint "ui/track/spotlights/" $spotlightkeys ".png"}} ;hide the texture on first entry because the script is bad whatever
    ;{choose_character.tex iterate_refs $ref {$ref set color {pack_color $spotlight_r $spotlight_g $spotlight_b}}}
    ;{choose_character.tex iterate_refs $ref {$ref set intensify TRUE}}
    {online_options.lst set_data (#include ../track/spotlights/spotlights.dta)}
 )
   (SCROLL_MSG
      {set $spotlightkeysmenu {$component selected_sym}}
      {choose_character.tex set_bitmap {sprint "ui/track/spotlights/" $spotlightkeysmenu ".png"}}
      {$this update})
   (SELECT_MSG
        {set $spotlightkeyscustomtexture TRUE}
        {set $spotlightkeys {$component selected_sym}}
        {set $spotlight none}
        {choose_character.tex set_bitmap {sprint "ui/track/spotlights/" $spotlightkeys ".png"}})
 (on_cancel
  {online_options.lst set scroll_time 0.25}
  {$this show_state kState_RB3EInstStrk}
  {choose_character.mesh set_local_scale_index 0 0.5}
  {choose_character.mesh set_local_scale_index 2 1}
  {choose_character.mesh set_local_pos_index 2 300}
  {online_options.grp remove_object choose_character.mesh}))

(kState_RB3EInstOD
   (view options)
   (enter
   {options.lst set_selected $rb3einstodval}
   {options.lst set_data 
   (
      os_allod
      os_guitarod
      os_bassod
      os_drumsod
      os_keysod
   )})
   (SELECT_MSG
   {set $rb3einstodval {$component selected_sym}}
  {switch
   {$component selected_sym}
   (os_allod
      {$this show_state kState_RB3EEmissiveSelectorAll})
   (os_guitarod
      {$this show_state kState_RB3EEmissiveSelectorGtr})
   (os_bassod
      {$this show_state kState_RB3EEmissiveSelectorBass})
   (os_drumsod
     {$this show_state kState_RB3EEmissiveSelectorDrum})
   (os_keysod
     {$this show_state kState_RB3EEmissiveSelectorKeys})
   })
   (on_cancel
      {$this show_state kState_RB3TextureMenu}))

(kState_RB3EEmissiveSelectorAll
 (view online_options)
 (enter
    {online_options.lst set scroll_time 0}
    {online_options.lst set circular 1}
    {online_options.lst set_selected $emissive}
    {online_options.grp add_object choose_character.mesh}
    {choose_character.mesh set_local_pos_index 2 175}
    {choose_character.mesh set_local_scale_index 0 0.2}
    {choose_character.mesh set_local_scale_index 2 0.4}
    {choose_character.mat set diffuse_tex choose_character.tex}
    {choose_character.tex set_bitmap {sprint "ui/track/emissives/" $emissive ".png"}} ;hide the texture on first entry because the script is bad whatever
    {choose_character.tex iterate_refs $ref {$ref set color {pack_color $emissive_r $emissive_g $emissive_b}}}
    {choose_character.tex iterate_refs $ref {$ref set intensify TRUE}}
    {online_options.lst set_data (#include ../track/emissives/emissives.dta)}
 )
   (SCROLL_MSG
      {set $emissivemenu {$component selected_sym}}
      {choose_character.tex set_bitmap {sprint "ui/track/emissives/" $emissivemenu ".png"}}
      {$this update})
   (SELECT_MSG
        {set $emissivecustomtexture TRUE}
        {set $emissivegtrcustomtexture FALSE}
        {set $emissivebasscustomtexture FALSE}
        {set $emissivedrumcustomtexture FALSE}
        {set $emissivekeyscustomtexture FALSE}
        {set $emissive {$component selected_sym}}
        {set $emissivegtr none}
        {set $emissivebass none}
        {set $emissivedrum none}
        {set $emissivekeys none}
        {choose_character.tex set_bitmap {sprint "ui/track/emissives/" $emissive ".png"}})
 (on_cancel
  {online_options.lst set scroll_time 0.25}
  {$this show_state kState_RB3EInstOD}
  {choose_character.mesh set_local_scale_index 0 0.5}
  {choose_character.mesh set_local_scale_index 2 1}
  {choose_character.mesh set_local_pos_index 2 300}
  {choose_character.tex iterate_refs $ref {$ref set color {pack_color 1.0 1.0 1.0}}}
  {choose_character.tex iterate_refs $ref {$ref set intensify 0}}
  {online_options.grp remove_object choose_character.mesh}))
  
(kState_RB3EEmissiveSelectorGtr
 (view online_options)
 (enter
    {online_options.lst set scroll_time 0}
    {online_options.lst set circular 1}
    {online_options.lst set_selected $emissivegtr}
    {online_options.grp add_object choose_character.mesh}
    {choose_character.mesh set_local_pos_index 2 175}
    {choose_character.mesh set_local_scale_index 0 0.2}
    {choose_character.mesh set_local_scale_index 2 0.4}
    {choose_character.mat set diffuse_tex choose_character.tex}
    {choose_character.tex set_bitmap {sprint "ui/track/emissives/" $emissivegtr ".png"}} ;hide the texture on first entry because the script is bad whatever
    {choose_character.tex iterate_refs $ref {$ref set color {pack_color $emissive_r $emissive_g $emissive_b}}}
    {choose_character.tex iterate_refs $ref {$ref set intensify TRUE}}
    {online_options.lst set_data (#include ../track/emissives/emissives.dta)}
 )
   (SCROLL_MSG
      {set $emissivegtrmenu {$component selected_sym}}
      {choose_character.tex set_bitmap {sprint "ui/track/emissives/" $emissivegtrmenu ".png"}}
      {$this update})
   (SELECT_MSG
        {set $emissivegtrcustomtexture TRUE}
        {set $emissivegtr {$component selected_sym}}
        {choose_character.tex set_bitmap {sprint "ui/track/emissives/" $emissivegtr ".png"}})
 (on_cancel
   {online_options.lst set scroll_time 0.25}
  {$this show_state kState_RB3EInstOD}
  {choose_character.mesh set_local_scale_index 0 0.5}
  {choose_character.mesh set_local_scale_index 2 1}
  {choose_character.mesh set_local_pos_index 2 300}
  {choose_character.tex iterate_refs $ref {$ref set color {pack_color 1.0 1.0 1.0}}}
  {choose_character.tex iterate_refs $ref {$ref set intensify 0}}
  {online_options.grp remove_object choose_character.mesh}))

(kState_RB3EEmissiveSelectorBass
 (view online_options)
 (enter
    {online_options.lst set scroll_time 0}
    {online_options.lst set circular 1}
    {online_options.lst set_selected $emissivebass}
    {online_options.grp add_object choose_character.mesh}
    {choose_character.mesh set_local_pos_index 2 175}
    {choose_character.mesh set_local_scale_index 0 0.2}
    {choose_character.mesh set_local_scale_index 2 0.4}
    {choose_character.mat set diffuse_tex choose_character.tex}
    {choose_character.tex set_bitmap {sprint "ui/track/emissives/" $emissivebass ".png"}} ;hide the texture on first entry because the script is bad whatever
    {choose_character.tex iterate_refs $ref {$ref set color {pack_color $emissive_r $emissive_g $emissive_b}}}
    {choose_character.tex iterate_refs $ref {$ref set intensify TRUE}}
    {online_options.lst set_data (#include ../track/emissives/emissives.dta)}
 )
   (SCROLL_MSG
      {set $emissivebassmenu {$component selected_sym}}
      {choose_character.tex set_bitmap {sprint "ui/track/emissives/" $emissivebassmenu ".png"}}
      {$this update})
   (SELECT_MSG
        {set $emissivebasscustomtexture TRUE}
        {set $emissivebass {$component selected_sym}}
        {choose_character.tex set_bitmap {sprint "ui/track/emissives/" $emissivebass ".png"}})
 (on_cancel
  {online_options.lst set scroll_time 0.25}
  {$this show_state kState_RB3EInstOD}
  {choose_character.mesh set_local_scale_index 0 0.5}
  {choose_character.mesh set_local_scale_index 2 1}
  {choose_character.mesh set_local_pos_index 2 300}
  {choose_character.tex iterate_refs $ref {$ref set color {pack_color 1.0 1.0 1.0}}}
  {choose_character.tex iterate_refs $ref {$ref set intensify 0}}
  {online_options.grp remove_object choose_character.mesh}))

(kState_RB3EEmissiveSelectorDrum
 (view online_options)
 (enter
   {online_options.lst set scroll_time 0}
    {online_options.lst set circular 1}
    {online_options.lst set_selected $emissivedrum}
    {online_options.grp add_object choose_character.mesh}
    {choose_character.mesh set_local_pos_index 2 175}
    {choose_character.mesh set_local_scale_index 0 0.2}
    {choose_character.mesh set_local_scale_index 2 0.4}
    {choose_character.mat set diffuse_tex choose_character.tex}
    {choose_character.tex set_bitmap {sprint "ui/track/emissives/" $emissivedrum ".png"}} ;hide the texture on first entry because the script is bad whatever
    {choose_character.tex iterate_refs $ref {$ref set color {pack_color $emissive_r $emissive_g $emissive_b}}}
    {choose_character.tex iterate_refs $ref {$ref set intensify TRUE}}
    {online_options.lst set_data (#include ../track/emissives/emissives.dta)}
 )
   (SCROLL_MSG
      {set $emissivedrummenu {$component selected_sym}}
      {choose_character.tex set_bitmap {sprint "ui/track/emissives/" $emissivedrummenu ".png"}}
      {$this update})
   (SELECT_MSG
        {set $emissivedrumcustomtexture TRUE}
        {set $emissivedrum {$component selected_sym}}
        {choose_character.tex set_bitmap {sprint "ui/track/emissives/" $emissivedrum ".png"}})
 (on_cancel
   {online_options.lst set scroll_time 0.25}
  {$this show_state kState_RB3EInstOD}
  {choose_character.mesh set_local_scale_index 0 0.5}
  {choose_character.mesh set_local_scale_index 2 1}
  {choose_character.mesh set_local_pos_index 2 300}
  {choose_character.tex iterate_refs $ref {$ref set color {pack_color 1.0 1.0 1.0}}}
  {choose_character.tex iterate_refs $ref {$ref set intensify 0}}
  {online_options.grp remove_object choose_character.mesh}))

(kState_RB3EEmissiveSelectorKeys
 (view online_options)
 (enter
   {online_options.lst set scroll_time 0}
    {online_options.lst set circular 1}
    {online_options.lst set_selected $emissivekeys}
    {online_options.grp add_object choose_character.mesh}
    {choose_character.mesh set_local_pos_index 2 175}
    {choose_character.mesh set_local_scale_index 0 0.2}
    {choose_character.mesh set_local_scale_index 2 0.4}
    {choose_character.mat set diffuse_tex choose_character.tex}
    {choose_character.tex set_bitmap {sprint "ui/track/emissives/" $emissivekeys ".png"}} ;hide the texture on first entry because the script is bad whatever
    {choose_character.tex iterate_refs $ref {$ref set color {pack_color $emissive_r $emissive_g $emissive_b}}}
    {choose_character.tex iterate_refs $ref {$ref set intensify TRUE}}
    {online_options.lst set_data (#include ../track/emissives/emissives.dta)}
 )
   (SCROLL_MSG
      {set $emissivekeysmenu {$component selected_sym}}
      {choose_character.tex set_bitmap {sprint "ui/track/emissives/" $emissivekeysmenu ".png"}}
      {$this update})
   (SELECT_MSG
        {set $emissivekeyscustomtexture TRUE}
        {set $emissivekeys {$component selected_sym}}
        {choose_character.tex set_bitmap {sprint "ui/track/emissives/" $emissivekeys ".png"}})
 (on_cancel
   {online_options.lst set scroll_time 0.25}
  {$this show_state kState_RB3EInstOD}
  {choose_character.mesh set_local_scale_index 0 0.5}
  {choose_character.mesh set_local_scale_index 2 1}
  {choose_character.mesh set_local_pos_index 2 300}
  {choose_character.tex iterate_refs $ref {$ref set color {pack_color 1.0 1.0 1.0}}}
  {choose_character.tex iterate_refs $ref {$ref set intensify 0}}
  {online_options.grp remove_object choose_character.mesh}))

(kState_RB3ESmasherSelector
 (view online_options)
 (enter
   {online_options.lst set scroll_time 0}
    {online_options.lst set circular 1}
    {online_options.lst set_selected $smasher}
    {online_options.grp add_object choose_character.mesh}
    {choose_character.mesh set_local_pos_index 2 175}
    {choose_character.mesh set_local_scale_index 0 0.2}
    {choose_character.mesh set_local_scale_index 2 0.4}
    {choose_character.mat set diffuse_tex choose_character.tex}
    {choose_character.tex set_bitmap {sprint "ui/track/smashers/gem_smashers_guitar_" $smasher ".png"}} ;hide the texture on first entry because the script is bad whatever
    {online_options.lst set_data (#include ../track/smashers/smashers.dta)}
 )
   (SCROLL_MSG
      {set $smashermenu {$component selected_sym}}
      {choose_character.tex set_bitmap {sprint "ui/track/smashers/gem_smashers_guitar_" $smashermenu ".png"}}
      {$this update})
   (SELECT_MSG
        {set $smashercustomtexture TRUE}
        {set $smasher {$component selected_sym}}
        {set $animatedsmashers FALSE}
        {set $animatedsmasherscustomtexture FALSE}
        {choose_character.tex set_bitmap {sprint "ui/track/smashers/gem_smashers_guitar_" $smasher ".png"}})
 (on_cancel
  {online_options.lst set scroll_time 0.25}
  {$this show_state kState_RB3TextureMenu}
  {choose_character.mesh set_local_scale_index 0 0.5}
  {choose_character.mesh set_local_scale_index 2 1}
  {choose_character.mesh set_local_pos_index 2 300}
  {online_options.grp remove_object choose_character.mesh}))

(kState_RB3EFlamesSelector
 (view online_options)
 (enter
    {online_options.lst set scroll_time 0}
    {online_options.lst set circular 0}
    {online_options.lst set_selected $flames}
    {online_options.grp add_object choose_character.mesh}
    {choose_character.mesh set_local_pos_index 2 175}
    {choose_character.mesh set_local_scale_index 0 0.2}
    {choose_character.mesh set_local_scale_index 2 0.4}
    {choose_character.mat set diffuse_tex choose_character.tex}
    {choose_character.tex set_bitmap {sprint "ui/track/flames/flare_style_" $flames ".png"}} ;hide the texture on first entry because the script is bad whatever
    {online_options.lst set_data (#include ../track/flames/flames.dta)}
 )
   (SCROLL_MSG
      {set $flamesmenu {$component selected_sym}}
      {choose_character.tex set_bitmap {sprint "ui/track/flames/flare_style_" $flamesmenu ".png"}}
      {$this update})
   (SELECT_MSG
        {set $flamescustomtexture TRUE}
        {set $flames {$component selected_sym}}
        {choose_character.tex set_bitmap {sprint "ui/track/flames/flare_style_" $flames ".png"}})
 (on_cancel
   {online_options.lst set scroll_time 0.25}
  {$this show_state kState_RB3TextureMenu}
  {choose_character.mesh set_local_scale_index 0 0.5}
  {choose_character.mesh set_local_scale_index 2 1}
  {choose_character.mesh set_local_pos_index 2 300}
  {online_options.grp remove_object choose_character.mesh}))

(kState_RB3EScoreSelector
 (view online_options)
 (enter
   {online_options.lst set scroll_time 0}
    {online_options.lst set circular 0}
    {online_options.lst set_selected $scoretex}
    {online_options.grp add_object choose_character.mesh}
    {choose_character.mesh set_local_pos_index 2 175}
    {choose_character.mesh set_local_scale_index 0 0.2}
    {choose_character.mesh set_local_scale_index 2 0.4}
    {choose_character.mat set diffuse_tex choose_character.tex}
    {choose_character.tex set_bitmap {sprint "ui/track/score/scoreboard_frame_" $scoretex ".png"}} ;hide the texture on first entry because the script is bad whatever
    {online_options.lst set_data (#include ../track/score/score.dta)}
 )
   (SCROLL_MSG
      {set $scoremenu {$component selected_sym}}
      {choose_character.tex set_bitmap {sprint "ui/track/score/scoreboard_frame_" $scoremenu ".png"}}
      {$this update})
   (SELECT_MSG
        {set $scorecustomtexture TRUE}
        {set $scoretex {$component selected_sym}}
        {choose_character.tex set_bitmap {sprint "ui/track/score/scoreboard_frame_" $scoretex ".png"}})
 (on_cancel
   {online_options.lst set scroll_time 0.25}
  {$this show_state kState_RB3TextureMenu}
  {choose_character.mesh set_local_scale_index 0 0.5}
  {choose_character.mesh set_local_scale_index 2 1}
  {choose_character.mesh set_local_pos_index 2 300}
  {online_options.grp remove_object choose_character.mesh}))

(kState_RB3ERailsSelector
 (view online_options)
 (enter
   {online_options.lst set scroll_time 0}
    {online_options.lst set circular 1}
    {online_options.lst set_selected $rails}
    {online_options.grp add_object choose_character.mesh}
    {choose_character.mesh set_local_pos_index 2 175}
    {choose_character.mesh set_local_scale_index 0 0.2}
    {choose_character.mesh set_local_scale_index 2 0.4}
    {choose_character.mat set diffuse_tex choose_character.tex}
    {choose_character.tex set_bitmap {sprint "ui/track/rails/rails_" $rails ".png"}} ;hide the texture on first entry because the script is bad whatever
    {online_options.lst set_data (#include ../track/rails/rails.dta)}
 )
   (SCROLL_MSG
      {set $railsmenu {$component selected_sym}}
      {choose_character.tex set_bitmap {sprint "ui/track/rails/rails_" $railsmenu ".png"}}
      {$this update})
   (SELECT_MSG
        {set $railscustomtexture TRUE}
        {set $rails {$component selected_sym}}
        {choose_character.tex set_bitmap {sprint "ui/track/rails/rails_" $rails ".png"}})
 (on_cancel
   {online_options.lst set scroll_time 0.25}
  {$this show_state kState_RB3TextureMenu}
  {choose_character.mesh set_local_scale_index 0 0.5}
  {choose_character.mesh set_local_scale_index 2 1}
  {choose_character.mesh set_local_pos_index 2 300}
  {online_options.grp remove_object choose_character.mesh}))

(kState_RB3EODbarSelector
 (view online_options)
 (enter
   {online_options.lst set scroll_time 0}
    {online_options.lst set circular 0}
    {online_options.lst set_selected $odbar}
    {online_options.grp add_object choose_character.mesh}
    {choose_character.mesh set_local_pos_index 2 175}
    {choose_character.mesh set_local_scale_index 0 0.2}
    {choose_character.mesh set_local_scale_index 2 0.4}
    {choose_character.mat set diffuse_tex choose_character.tex}
    {choose_character.tex set_bitmap {sprint "ui/track/overdrive_bar/overdrive_meter_background_fill_" $odbar ".png"}} ;hide the texture on first entry because the script is bad whatever
    {online_options.lst set_data (#include ../track/overdrive_bar/overdrive_bar.dta)}
 )
   (SCROLL_MSG
      {set $odbarmenu {$component selected_sym}}
      {choose_character.tex set_bitmap {sprint "ui/track/overdrive_bar/overdrive_meter_background_fill_" $odbarmenu ".png"}}
      {$this update})
   (SELECT_MSG
        {set $odbarcustomtexture TRUE}
        {set $odbar {$component selected_sym}}
        {choose_character.tex set_bitmap {sprint "ui/track/overdrive_bar/overdrive_meter_background_fill_" $odbar ".png"}})
 (on_cancel
   {online_options.lst set scroll_time 0.25}
  {$this show_state kState_RB3TextureMenu}
  {choose_character.mesh set_local_scale_index 0 0.5}
  {choose_character.mesh set_local_scale_index 2 1}
  {choose_character.mesh set_local_pos_index 2 300}
  {online_options.grp remove_object choose_character.mesh}))

(kState_RB3EMultiRingSelector
 (view online_options)
 (enter
   {online_options.lst set scroll_time 0}
    {online_options.lst set circular 0}
    {online_options.lst set_selected $multiring}
    {online_options.grp add_object choose_character.mesh}
    {choose_character.mesh set_local_pos_index 2 175}
    {choose_character.mesh set_local_scale_index 0 0.2}
    {choose_character.mesh set_local_scale_index 2 0.4}
    {choose_character.mat set diffuse_tex choose_character.tex}
    {choose_character.tex set_bitmap {sprint "ui/track/multiplier_ring/streak_meter_bg_" $multiring ".png"}} ;hide the texture on first entry because the script is bad whatever
    {online_options.lst set_data (#include ../track/multiplier_ring/multiplier_ring.dta)}
 )
   (SCROLL_MSG
      {set $multiringmenu {$component selected_sym}}
      {choose_character.tex set_bitmap {sprint "ui/track/multiplier_ring/streak_meter_bg_" $multiringmenu ".png"}}
      {$this update})
   (SELECT_MSG
        {set $multiringcustomtexture TRUE}
        {set $multiring {$component selected_sym}}
        {choose_character.tex set_bitmap {sprint "ui/track/multiplier_ring/streak_meter_bg_" $multiring ".png"}})
 (on_cancel
   {online_options.lst set scroll_time 0.25}
  {$this show_state kState_RB3TextureMenu}
  {choose_character.mesh set_local_scale_index 0 0.5}
  {choose_character.mesh set_local_scale_index 2 1}
  {choose_character.mesh set_local_pos_index 2 300}
  {online_options.grp remove_object choose_character.mesh}))

(kState_RB3ECrowdMeterSelector
 (view online_options)
 (enter
   {online_options.lst set scroll_time 0}
    {online_options.lst set circular 0}
    {online_options.lst set_selected $crowdmeter}
    {online_options.grp add_object choose_character.mesh}
    {choose_character.mesh set_local_pos_index 2 175}
    {choose_character.mesh set_local_scale_index 0 0.2}
    {choose_character.mesh set_local_scale_index 2 0.4}
    {choose_character.mat set diffuse_tex choose_character.tex}
    {choose_character.tex set_bitmap {sprint "ui/track/crowd_meter/crowd_meter_frame_" $crowdmeter ".png"}} ;hide the texture on first entry because the script is bad whatever
    {online_options.lst set_data (#include ../track/crowd_meter/crowd_meter.dta)}
 )
   (SCROLL_MSG
      {set $crowdmetermenu {$component selected_sym}}
      {choose_character.tex set_bitmap {sprint "ui/track/crowd_meter/crowd_meter_frame_" $crowdmetermenu ".png"}}
      {$this update})
   (SELECT_MSG
        {set $crowdmetercustomtexture TRUE}
        {set $crowdmeter {$component selected_sym}}
        {choose_character.tex set_bitmap {sprint "ui/track/crowd_meter/crowd_meter_frame_" $crowdmeter ".png"}})
 (on_cancel
   {online_options.lst set scroll_time 0.25}
  {$this show_state kState_RB3TextureMenu}
  {choose_character.mesh set_local_scale_index 0 0.5}
  {choose_character.mesh set_local_scale_index 2 1}
  {choose_character.mesh set_local_pos_index 2 300}
  {online_options.grp remove_object choose_character.mesh}))

(kState_RB3EGemSelector
 (view online_options)
 (enter
   {online_options.lst set scroll_time 0}
    {online_options.lst set circular 0}
    {online_options.lst set_selected $gemmenu}
    {online_options.grp add_object choose_character.mesh}
    {choose_character.mesh set_local_pos_index 2 175}
    {choose_character.mesh set_local_scale_index 0 0.2}
    {choose_character.mesh set_local_scale_index 2 0.4}
    {choose_character.mat set diffuse_tex choose_character.tex}
    {choose_character.tex set_bitmap {sprint "ui/track/gems/prism_gems_" $gem ".png"}} ;hide the texture on first entry because the script is bad whatever
    {online_options.lst set_data (#include ../track/gems/gems.dta)}
 )
   (SCROLL_MSG
      {set $gemmenu {$component selected_sym}}
      {choose_character.tex set_bitmap {sprint "ui/track/gems/prism_gems_" $gemmenu ".png"}}
      {$this update})
   (SELECT_MSG
        {set $animatedgems FALSE}
        {set $animatedgemscustomtexture FALSE}
        {set $animatedgemname none}
        {set $gemcustomtexture TRUE}
        {set $gem {$component selected_sym}}
        {choose_character.tex set_bitmap {sprint "ui/track/gems/prism_gems_" $gem ".png"}})
 (on_cancel
  {online_options.lst set scroll_time 0.25}
  {$this show_state kState_RB3TextureMenu}
  {choose_character.mesh set_local_scale_index 0 0.5}
  {choose_character.mesh set_local_scale_index 2 1}
  {choose_character.mesh set_local_pos_index 2 300}
  {online_options.grp remove_object choose_character.mesh}))

(kState_RB3EKeyboardSelector
 (view online_options)
 (enter
   {online_options.lst set scroll_time 0}
    {online_options.lst set circular 1}
    {online_options.lst set_selected $keyboard}
    {online_options.grp add_object choose_character.mesh}
    {choose_character.mesh set_local_pos_index 2 175}
    {choose_character.mesh set_local_scale_index 0 0.2}
    {choose_character.mesh set_local_scale_index 2 0.4}
    {choose_character.mat set diffuse_tex choose_character.tex}
    {choose_character.tex set_bitmap {sprint "ui/track/keyboards/track_lanes_keyboard_" $keyboard ".png"}} ;hide the texture on first entry because the script is bad whatever
    {online_options.lst set_data (#include ../track/keyboards/keyboards.dta)}
 )
   (SCROLL_MSG
      {set $keyboardmenu {$component selected_sym}}
      {choose_character.tex set_bitmap {sprint "ui/track/keyboards/track_lanes_keyboard_" $keyboardmenu ".png"}}
      {$this update})
   (SELECT_MSG
        {set $keyboardcustomtexture TRUE}
        {set $keyboard {$component selected_sym}}
        {choose_character.tex set_bitmap {sprint "ui/track/keyboards/track_lanes_keyboard_" $keyboard ".png"}})
 (on_cancel
   {online_options.lst set scroll_time 0.25}
  {$this show_state kState_RB3TextureMenu}
  {choose_character.mesh set_local_scale_index 0 0.5}
  {choose_character.mesh set_local_scale_index 2 1}
  {choose_character.mesh set_local_pos_index 2 300}
  {online_options.grp remove_object choose_character.mesh}))
  
(kState_RB3EVoxHWSelector
 (view online_options)
 (enter
   {online_options.lst set scroll_time 0}
    {online_options.lst set circular 0}
    {online_options.lst set_selected $voxhw}
    {online_options.grp add_object choose_character.mesh}
    {choose_character.mesh set_local_pos_index 2 175}
    {choose_character.mesh set_local_scale_index 0 0.2}
    {choose_character.mesh set_local_scale_index 2 0.4}
    {choose_character.mat set diffuse_tex choose_character.tex}
    {choose_character.tex set_bitmap {sprint "ui/track/voxhw/vocal_bg_combined_" $voxhw ".png"}} ;hide the texture on first entry because the script is bad whatever
    {online_options.lst set_data (#include ../track/voxhw/voxhw.dta)}
 )
   (SCROLL_MSG
      {set $voxhwmenu {$component selected_sym}}
      {choose_character.tex set_bitmap {sprint "ui/track/voxhw/vocal_bg_combined_" $voxhwmenu ".png"}}
      {$this update})
   (SELECT_MSG
        {set $voxhwcustomtexture TRUE}
        {set $voxhw {$component selected_sym}}
        {choose_character.tex set_bitmap {sprint "ui/track/voxhw/vocal_bg_combined_" $voxhw ".png"}})
 (on_cancel
   {online_options.lst set scroll_time 0.25}
  {$this show_state kState_RB3TextureMenu}
  {choose_character.mesh set_local_scale_index 0 0.5}
  {choose_character.mesh set_local_scale_index 2 1}
  {choose_character.mesh set_local_pos_index 2 300}
  {online_options.grp remove_object choose_character.mesh}))

(kState_RB3EVoxArrowSelector
 (view online_options)
 (enter
   {online_options.lst set scroll_time 0}
    {online_options.lst set circular 1}
    {online_options.lst set_selected $voxarrow}
    {online_options.grp add_object choose_character.mesh}
    {choose_character.mesh set_local_pos_index 2 175}
    {choose_character.mesh set_local_scale_index 0 0.2}
    {choose_character.mesh set_local_scale_index 2 0.4}
    {choose_character.mat set diffuse_tex choose_character.tex}
    {choose_character.tex set_bitmap {sprint "ui/track/voxarrow/arrow_lead_c_" $voxarrow ".png"}} ;hide the texture on first entry because the script is bad whatever
    {online_options.lst set_data (#include ../track/voxarrow/voxarrow.dta)}
 )
   (SCROLL_MSG
      {set $voxarrowmenu {$component selected_sym}}
      {choose_character.tex set_bitmap {sprint "ui/track/voxarrow/arrow_lead_c_" $voxarrowmenu ".png"}}
      {$this update})
   (SELECT_MSG
        {set $voxarrowcustomtexture TRUE}
        {set $voxarrow {$component selected_sym}}
        {choose_character.tex set_bitmap {sprint "ui/track/voxarrow/arrow_lead_c_" $voxarrow ".png"}})
 (on_cancel
   {online_options.lst set scroll_time 0.25}
  {$this show_state kState_RB3TextureMenu}
  {choose_character.mesh set_local_scale_index 0 0.5}
  {choose_character.mesh set_local_scale_index 2 1}
  {choose_character.mesh set_local_pos_index 2 300}
  {online_options.grp remove_object choose_character.mesh}))

(kState_RB3ESustainSel
   (view options)
   (enter
   {options.lst set_selected 0}
   {options.lst set_data (os_nosus os_rb2sus os_rb3sus os_rb4sus)})
   (SELECT_MSG
  {switch
   {$component selected_sym}
               (os_rb3sus
                  {set $sustaincustomtexture TRUE}
                  {set $sustain rb3}
                  {if {modifier_mgr is_modifier_active mod_rb2sustain}
                     {modifier_mgr toggle_modifier_enabled mod_rb2sustain}}
                  {if {modifier_mgr is_modifier_active mod_rb4sustain}
                     {modifier_mgr toggle_modifier_enabled mod_rb4sustain}}
                  {if {modifier_mgr is_modifier_active mod_nosustain}
                     {modifier_mgr toggle_modifier_enabled mod_nosustain}})
               (os_rb2sus
                  {set $sustaincustomtexture TRUE}
                  {set $sustain rb2}
                  {if {modifier_mgr is_modifier_active mod_rb4sustain}
                     {modifier_mgr toggle_modifier_enabled mod_rb4sustain}}
                  {if {modifier_mgr is_modifier_active mod_nosustain}
                     {modifier_mgr toggle_modifier_enabled mod_nosustain}}
                  {unless {modifier_mgr is_modifier_active mod_rb2sustain}
                     {modifier_mgr toggle_modifier_enabled mod_rb2sustain}})
               (os_rb4sus
                  {set $sustaincustomtexture TRUE}
                  {set $sustain rb4}
                  {if {modifier_mgr is_modifier_active mod_rb2sustain}
                     {modifier_mgr toggle_modifier_enabled mod_rb2sustain}}
                  {if {modifier_mgr is_modifier_active mod_nosustain}
                     {modifier_mgr toggle_modifier_enabled mod_nosustain}}
                  {unless {modifier_mgr is_modifier_active mod_rb4sustain}
                     {modifier_mgr toggle_modifier_enabled mod_rb4sustain}})
               (os_nosus
                  {if {modifier_mgr is_modifier_active mod_rb2sustain}
                     {modifier_mgr toggle_modifier_enabled mod_rb2sustain}}
                  {if {modifier_mgr is_modifier_active mod_rb4sustain}
                     {modifier_mgr toggle_modifier_enabled mod_rb4sustain}}
                  {unless {modifier_mgr is_modifier_active mod_nosustain}
                     {modifier_mgr toggle_modifier_enabled mod_nosustain}})}
               {options.lst set_data (os_nosus os_rb2sus os_rb3sus os_rb4sus)})
   (on_cancel
      {$this show_state kState_RB3TextureMenu}))

(kState_RB3EAnimatedGemSelector
 (view online_options)
 (enter
    {online_options.lst set scroll_time 0}
    {online_options.lst set circular 0}
    {online_options.lst set_selected $animatedgemmenu}
    {online_options.grp add_object choose_character.mesh}
    {choose_character.mesh set_local_pos_index 2 175}
    {choose_character.mesh set_local_scale_index 0 0.2}
    {choose_character.mesh set_local_scale_index 2 0.4}
    {choose_character.mat set diffuse_tex choose_character.tex}
    {choose_character.tex set_bitmap {sprint "ui/track/animated_gems/prism_gems_rb4/prism_gems_rb4_0.png"}}
    {online_options.lst set_data ("rb4")}
 )
   (SCROLL_MSG
      {set $animatedgemmenu {$component selected_sym}}
      {choose_character.tex set_bitmap {sprint "ui/track/animated_gems/prism_gems_" $animatedgemmenu "/prism_gems_" $animatedgemmenu "_0.png"}}
      {$this update})
   (SELECT_MSG
        {set $gemcustomtexture TRUE}
        {set $gem {$component selected_sym}}
        {set $animatedgems TRUE}
        {set $animatedgemscustomtexture TRUE}
        {set $animatedgemname {$component selected_sym}}
        {choose_character.tex set_bitmap {sprint "ui/track/animated_gems/prism_gems_" $animatedgemname "/prism_gems_" $animatedgemname "_0.png"}})
 (on_cancel
  {online_options.lst set scroll_time 0.25}
  {$this show_state kState_RB3TextureMenu}
  {choose_character.mesh set_local_scale_index 0 0.5}
  {choose_character.mesh set_local_scale_index 2 1}
  {choose_character.mesh set_local_pos_index 2 300}
  {online_options.grp remove_object choose_character.mesh}))
  
(kState_RB3EAnimatedSmasherSelector
 (view online_options)
 (enter
    {online_options.lst set scroll_time 0}
    {online_options.lst set circular 0}
    {online_options.lst set_selected $animatedsmashermenu}
    {online_options.grp add_object choose_character.mesh}
    {choose_character.mesh set_local_pos_index 2 175}
    {choose_character.mesh set_local_scale_index 0 0.2}
    {choose_character.mesh set_local_scale_index 2 0.4}
    {choose_character.mat set diffuse_tex choose_character.tex}
    {choose_character.tex set_bitmap {sprint "ui/track/animated_smashers/gem_smasher_guitar_shiny/gem_smasher_guitar_shiny_0.png"}}
    {online_options.lst set_data ("shiny" "starlight")}
 )
   (SCROLL_MSG
      {set $animatedsmashermenu {$component selected_sym}}
      {choose_character.tex set_bitmap {sprint "ui/track/animated_smashers/gem_smasher_guitar_" $animatedsmashermenu "/gem_smasher_guitar_" $animatedsmashermenu "_0.png"}}
      {$this update})
   (SELECT_MSG
        {set $smashercustomtexture TRUE}
        {set $smasher rb4legacy}
        {set $animatedsmashers TRUE}
        {set $animatedsmasherscustomtexture TRUE}
        {set $animatedsmashername {$component selected_sym}}
        {choose_character.tex set_bitmap {sprint "ui/track/animated_smashers/gem_smasher_guitar_" $animatedsmashername "/gem_smasher_guitar_" $animatedsmashername "_0.png"}})
 (on_cancel
  {online_options.lst set scroll_time 0.25}
  {$this show_state kState_RB3TextureMenu}
  {choose_character.mesh set_local_scale_index 0 0.5}
  {choose_character.mesh set_local_scale_index 2 1}
  {choose_character.mesh set_local_pos_index 2 300}
  {online_options.grp remove_object choose_character.mesh}))

;(kState_RB3EAnimatedHighwaySelector
; (view online_options)
; (enter
;    {online_options.lst set circular 1}
;    {online_options.lst set_selected $animatedhighwaymenu}
;    {online_options.grp add_object choose_character.mesh}
;    {choose_character.mesh set_local_pos_index 2 175}
;    {choose_character.mesh set_local_scale_index 0 0.2}
;    {choose_character.mesh set_local_scale_index 2 0.4}
;    {choose_character.mat set diffuse_tex choose_character.tex}
;    {online_options.lst set_data ("rb4_new" "rb4effect5_color4" "rb4effect6_color7" "rb4effect4_color1" "rb4effect9_color1")}
;    {choose_character.tex set_bitmap {sprint "ui/track/animated_surfaces/rb4_new/rb4_new_0.png"}}
; )
;   (SCROLL_MSG
;      {set $animatedhighwaymenu {$component selected_sym}}
;      {choose_character.tex set_bitmap {sprint "ui/track/animated_surfaces/" $animatedhighwaymenu "/" $animatedhighwaymenu "_0.png"}}
;      {$this update})
;   (SELECT_MSG
;        {set $animatedhighway TRUE}
;        {set $animatedhighwaycustomtexture TRUE}
;        {set $highway _rb3_guitar}
;        {set $animatedhighwayname {$component selected_sym}})
; (on_cancel
;  {$this show_state kState_RB3AnimationMenu}
;  {choose_character.mesh set_local_scale_index 0 0.5}
;  {choose_character.mesh set_local_scale_index 2 1}
;  {choose_character.mesh set_local_pos_index 2 300}
;  {online_options.grp remove_object choose_character.mesh}))

(kState_RB3EAnimatedGemWarn
   (view confirm_action)
   (enter
      {confirm_action.lst set_selected 1}
      {handle
         ($this set_confirm_actions os_animmsg (overshell_continue overshell_cancel))})
   (SELECT_MSG
      {switch {$component selected_sym}
      (overshell_continue
         {$this show_state kState_RB3EAnimatedGemSelector})
      (overshell_cancel
         {$this show_state kState_RB3TextureMenu})})
      (on_cancel
      {$this show_state kState_RB3TextureMenu}))

(kState_RB3EAnimatedSmasherWarn
   (view confirm_action)
   (enter
      {confirm_action.lst set_selected 1}
      {handle
         ($this set_confirm_actions os_animsmshmsg (overshell_continue overshell_cancel))})
   (SELECT_MSG
      {switch {$component selected_sym}
      (overshell_continue
         {$this show_state kState_RB3EAnimatedSmasherSelector})
      (overshell_cancel
         {$this show_state kState_RB3TextureMenu})})
      (on_cancel
      {$this show_state kState_RB3TextureMenu}))
